# GDB调试

命令：gcc -g -Wall 源代码文件.c -o 可执行文件 
- -g：打开调试选项
- -Wall：打开所有的warning

操作：
- 基本命令
  - 启动：gdb 执行程序
  - 退出：quit
  - 给程序设置参数：set 变量 参数
  - 显示参数：show 变量
  - 使用帮助：help
  - 查看当前文件代码：
      - list/l
      - list/l 函数名
      - list/l 行号
  - 查看非当前文件代码：
      - list/l 文件名：行号
      - list/l 文件名：函数名
- 断点
  - 设置断点：
      - break/b 行号
      - break/b 函数名
      - break/b 文件名：行号
      - break/b 文件名：函数名
  - 查看断点： info/i break/b
  - 删除断点： delete/del/d 断点编号
  - 设置断点无效：disable/dis 断点编号
  - 设置断点生效：enable/ena 断点编号
  - 设置条件断点(一般用在循环处)：break/b 行号 if 条件
- 调试命令:
  - 运行GDB程序:
    - start:程序停在第一行
    - run:遇到断点才会停
    - 继续运行: continue/c 
    - 向下执行一条命令:next/n (不会进入函数体)
  - 变量操作:
    - 打印变量值:print/p 变量名
    - 打印变量类型:ptype 变量名
  - 向下单步调试:(遇到函数进入函数体)
    - step/s
    - finish(跳出函数体)
  - 自动变量操作
    - 自动打印指定变量的值:display num
    - 查看自动变量:info/i display
    - 删除自动变量:undisplay 编号
  - 其他操作:
    - set val 变量名=变量值
    - until:跳出循环
  