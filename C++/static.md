# static关键字的作用


定义全局静态变量和局部静态变量：在变量前面加上static关键字。初始化的静态变量会在数据段分配内存，未初始化的静态变量会在BSS段分配内存。直到程序结束，静态变量始终会维持前值。只不过全局静态变量和局部静态变量的作用域不一样；

定义静态函数：在函数返回类型前加上static关键字，函数即被定义为静态函数。静态函数只能在本源文件中使用；

在变量类型前加上static关键字，变量即被定义为静态变量。静态变量只能在本源文件中使用；

//示例 static int a; static void func();

在c++中，static关键字可以用于定义类中的静态成员变量：使用静态数据成员，它既可以被当成全局变量那样去存储，但又被隐藏在类的内部。类中的static静态数据成员拥有一块单独的存储区，而不管创建了多少个该类的对象。所有这些对象的静态数据成员都共享这一块静态存储空间。

在c++中，static关键字可以用于定义类中的静态成员函数：与静态成员变量类似，类里面同样可以定义静态成员函数。只需要在函数前加上关键字static即可。如静态成员函数也是类的一部分，而不是对象的一部分。所有这些对象的静态数据成员都共享这一块静态存储空间。

答案解析
类中的静态变量
由于声明为static的变量只被初始化一次，因为它们在单独的静态存储中分配了空间，因此类中的静态变量**由对象共享**，对于不同的对象，不能有相同静态变量的多个副本。也是因为这个原因，**静态变量不能使用构造函数初始化**。

当调用一个对象的非静态成员函数时，系统会把该对象的起始地址赋给成员函数的this指针。**而静态成员函数不属于任何一个对象（虽然被允许使用对象和'.'来调用静态成员函数）**，因此C++规定静态成员函数没有this指针（划重点，面试题常考）。既然它没有指向某一对象，也就无法对一个对象中的非静态成员进行访问。

虽然被允许使用对象和'.'来调用静态成员函数。**但建议使用类名和范围解析运算符调用静态成员**。